doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    meta(name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no')

    title Forums
    link(rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css')
    link(rel='stylesheet' href='/css/style.css')
  body
    nav.navbar-expand-lg.navbar-inverse.bg-inverse

      button.navbar-toggler.navbar-toggler-right(type='button' data-toggle='collapse' data-target='#content' aria-controls='content' aria-expanded='false' aria-label='Toggle navigation')
        span.navbar-toggler-icon
      .collapse.navbar-collapse#content
        a.navbar-brand(href='/') Home
        ul.navbar-nav.mr-auto
          li.nav-item
            a.nav-link(href='/category') Forums
          li.nav-item
            a.nav-link(href='/forum') Messages
          if login
            li.nav-item.dropdown
              a.nav-link.dropdown-toggle#user(href='#' data-toggle='dropdown' role='button' aria-haspopup='truie' aria-expanded='false')= user.username
              .dropdown-menu(aria-labelledby='user')
                a.dropdown-item(href='/profile/' + login) Profile
          else
            li.nav-item
              a.nav-link#signin(data-toggle='modal' data-target='#modal' href="#") Sign In
  unless login
    .modal.fade#modal(tabindex='-1' role='dialog' aria-labelledby='mlabel' aria-hidden='true')
      .modal-dialog(role='document')
        .modal-content
          .modal-header
            h5.modal-title#mlabel Sign In
            button.close(type='button' data-dismiss='modal' aria-label='Close')
              span(aria-hidden='true') &times;
          .modal-body
            .alert.alert-danger(style='display: none;')#error
            form#login.login
              input(type='hidden' name='_csrf', value=csrfToken)
              .form-group
                label(for='username') Username
                input.form-control#username(type='text' placeholder='Username' name='username')
              .form-group
                label(for='password') Password
                input.form-control#password(type='password' placeholder='Password' name='password')
              button.btn.btn-primary#login-submit.login(type='submit') Sign In
            form#register.register
              input(type='hidden' name='_csrf', value=csrfToken)
              .form-group
                label(for='username-r') Username
                input.form-control#username-r(type='text' placeholder='Username' name='username')
              .form-group
                label(for='email-r') Email Address
                input.form-control#email-r(type='email' placeholder='Email' name='email')
              .form-group
                label(for='password-r') Password
                input.form-control#password-r(type='password' placeholder='Password' name='password')
              .form-group
                label(for='password-check') Re-enter password
                input.form-control#password-check(type='password' placeholder='Password')
              button.btn.btn-primary#register-submit.register(type='submit') Register
            a#login-toggle.link-primary(href='#') Don't have an account? Click here to register.
          .modal-footer
            button.btn.btn-secondary(type='button' data-dismiss='modal') Close
            
  block jumbotron
  .container
    block content
  script(src='https://code.jquery.com/jquery-3.3.1.min.js')
  script(src='https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js')
  script(src='https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js')
  script(src='/js/main.js')
  block scripts